!function(t){"use strict";var i,n,e={},r=function(e){var i=!0,r=!0;if(t.each(e.values,function(t,e){r&&parseInt(e)!=e&&(r=!1),i&&parseFloat(e)!=e&&(i=!1)}),r||i)return{type:"range"};if(n){var l=n.indexOf("?")<0?"?":"&";return{type:"search",source:n+l+"resourceFor="+e.field}}return{type:"select"}},l=function(e,i){var l={};return t.each(e,function(t,e){e.filterable&&(l[e.field]={field:e.field,label:e.title,values:[]})}),t.each(i,function(e,i){t.each(l,function(t){l[t].values.indexOf(i[t])<0&&l[t].values.push(i[t])})}),t.each(l,function(e,i){l[e]=t.extend(l[e],r(i))}),l},o=function(n){var l,o=!0;return t.each(n,function(t,n){l=!1;try{l=i.getFilterType(t),filter=i.getFilter(t),"undefined"!=typeof filter.values&&(n=filter.values.indexOf(n)),l&&"undefined"!=typeof e[t]&&(o=o&&i.checkFilterTypeValue(l,e[t],n))}catch(r){}}),o};t.fn.bootstrapTableFilter.externals.push(function(){if(this.options.connectTo){i=this;var r=t(this.options.connectTo),s=r.bootstrapTable("getData"),a=r.bootstrapTable("getColumns");n=r.bootstrapTable("getServerUrl");var f=!1,c=this.options.filters.length?[]:l(a,s,f);t.each(c,function(t,e){i.addFilter(e)}),n?this.$el.on("submit.bs.table.filter",function(){e=i.getData();var t=n.indexOf("?")<0?"?":"&",l=n+t+"filter="+encodeURIComponent(JSON.stringify(e));r.bootstrapTable("refresh",{url:l})}):(r.bootstrapTable("registerSearchCallback",o),this.$el.on("submit.bs.table.filter",function(){e=i.getData(),r.bootstrapTable("updateSearch")}))}})}(jQuery);